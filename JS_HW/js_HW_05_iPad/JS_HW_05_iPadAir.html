<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">

    <title>iPadAir</title>
</head>

<body>

    <div class="container">
        <div class="row">
            <div class="col-12 col-md-6">
                <img src="" alt="">
            </div>
            <div class="col-12 col-md-6">
                <div class="container">
                    <div class="row">
                        <div class="container">
                            <div class="row" id="colorsRow">
                                <!-- <div class="col-6 btn border border-secdonary">
                                    <img src="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/finish-spacegray-201903"
                                        class="w-25 d-block mx-auto" alt="">
                                    太空灰色</div>
                                <div class="col-6 btn border border-secdonary">
                                    <img src="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/finish-spacegray-201903"
                                        class="w-25 d-block mx-auto" alt="">
                                    銀色</div>
                                <div class="col-6 btn border border-secdonary">
                                    <img src="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/finish-spacegray-201903"
                                        class="w-25 d-block mx-auto" alt="">
                                    玫瑰金色</div>
                                <div class="col-6 btn border border-secdonary">
                                    <img src="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/finish-spacegray-201903"
                                        class="w-25 d-block mx-auto" alt="">
                                    綠色</div>
                                <div class="col-6 btn border border-secdonary">
                                    <img src="https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/finish-spacegray-201903"
                                        class="w-25 d-block mx-auto" alt="">
                                    天藍色</div> -->
                            </div>
                        </div>
                    </div>
                    <div class="row" id="storageRow"></div>
                    <div class="row" id="networkRow"></div>
                    <div class="row" id="priceRow"></div>
                </div>
            </div>

        </div>
    </div>

    <!-- <template id="colorCollapseTem"> -->
    <!-- <p>
        <button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#collapse"
            aria-expanded="false" aria-controls="collapse">
            Button with data-bs-target
        </button>
    </p>
    <div class="collapse show" id="collapse">
        <h2 id="collapseHead"></h2>
        <a class="btn btn-primary" data-bs-toggle="collapse" href="#collapse" role="button" aria-expanded="false"
            aria-controls="collapse">
            Link with href
        </a>
        <div class="card card-body">
            Some placeholder content for the collapse component. This panel is hidden by default but revealed when
            the
            user activates the relevant trigger.
        </div>
    </div> -->
    <!-- </template> -->

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous">
    </script>

    <script type="module">
        import {$g,$c} from './myhelpers.js';

        const iPadAirUrl =
            "https://raw.githubusercontent.com/Girro39/Girro39.github.io/main/JS_HW/js_HW_05_iPad/iPadAir202009.json";

        // const iPadAirAllPic =
        //     "https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/ipad-air-select-202009"

        let iPadAirXHR = new XMLHttpRequest();
        let iPadAirObject;
        let colorArray;
        let colorsRow = $g('#colorsRow');
        let storageRow = $g('#storageRow');
        let networkRow = $g('#networkRow');
        let priceRow = $g('#priceRow');
        
        window.onload = function () {
            requestiPadAirJson();
        }
        
        function requestiPadAirJson() {
            iPadAirXHR.onload = function () {
                iPadAirObject = JSON.parse(this.responseText);
                colorArray = iPadAirObject.colors;
                createColors();
            }
            iPadAirXHR.open('GET', iPadAirUrl);
            iPadAirXHR.send();
        }

        function createColors() {
            colorArray.forEach((color)=>{
                const colorUrl =`https://store.storeimages.cdn-apple.com/8756/as-images.apple.com/is/finish${}-spacegray-201903`
                let div = $c('div');
                div.innerHTML =color;
                colorsRow.append(div);
                console.log(colorsRow);
                // console.log(btn);
            });
        }
    </script>

</body>

</html>